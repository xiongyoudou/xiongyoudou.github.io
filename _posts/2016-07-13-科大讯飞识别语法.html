<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.8 (453749)"/><meta name="author" content="xiongyoudou@qq.com"/><meta name="created" content="2016-08-22 01:25:05 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2016-08-22 01:25:27 +0000"/><title>科大讯飞识别语法</title></head><body>
<div>
<div style="box-sizing: border-box; outline: none !important; color: rgb(44, 63, 81); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<p style="box-sizing: border-box; outline: none !important;"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">ABNF语法</strong>适用于<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">在线命令词识别</code>功能。使用<strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">abnf语法文件</strong>时，需要进行语法文件上传，在进行在线识别时，只有结果与语法文件相匹配时才返回结果，否则返回没有匹配结果的提示。 <br style="box-sizing: border-box; outline: none !important;"/>
<strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">BNF语法</strong>适用于<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">离线命令词识别</code>功能。</p>
</div>
<div style="box-sizing: border-box; outline: none !important; color: rgb(44, 63, 81); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<h2 style="box-sizing: border-box; outline: none !important; font-family: inherit; font-weight: bold; color: inherit; font-size: 2.15em; text-align: start;">语法规范：BNF与ABNF</h2>
<p style="box-sizing: border-box; outline: none !important;"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">巴科斯范式</strong>(BNF:Backus-Naur Form的缩写)是由<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">John Backus</code> 和 <code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">Peter Naur</code>首先引入的用来描述计算机语言语法的<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">符号集</code>。现在，几乎每一位新编程语言书籍的作者都使用<strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">BNF</strong>来定义编程语言的语法规则。 <br style="box-sizing: border-box; outline: none !important;"/>
<strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">BNF</strong>中，双引号中的字(“word”)代表着这些字符本身。而double_quote用来代表双引号。在双引号外的字（有可能有下划线）代表着语法部分。</p>
<table style="box-sizing: border-box; outline: none !important; max-width: 100%; border-collapse: collapse; border-spacing: 0px; background-color: transparent;">
<thead style="box-sizing: border-box; outline: none !important;">
<tr style="box-sizing: border-box; outline: none !important;">
<th align="center" style="box-sizing: border-box; outline: none !important; text-align: center; padding: 0.5em; vertical-align: bottom; border: 1px solid rgb(221, 221, 221); font-weight: bold;">关键字</th>
<th align="right" style="box-sizing: border-box; outline: none !important; text-align: right; padding: 0.5em; vertical-align: bottom; border: 1px solid rgb(221, 221, 221); font-weight: bold;">意义</th>
</tr>
</thead>
<tbody style="box-sizing: border-box; outline: none !important;">
<tr style="box-sizing: border-box; outline: none !important;">
<td align="center" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">&lt; &gt;</strong></td>
<td align="right" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">包含的为必选项</td>
</tr>
<tr style="box-sizing: border-box; outline: none !important;">
<td align="center" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">[ ]</strong></td>
<td align="right" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">包含的为可选项</td>
</tr>
<tr style="box-sizing: border-box; outline: none !important;">
<td align="center" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">{ }</strong></td>
<td align="right" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">包含的为可重复0至无数次的项</td>
</tr>
<tr style="box-sizing: border-box; outline: none !important;">
<td align="center" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">|</strong></td>
<td align="right" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">表示在其左右两边任选一项，相当于”OR”</td>
</tr>
<tr style="box-sizing: border-box; outline: none !important;">
<td align="center" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">::=</strong></td>
<td align="right" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">是“被定义为”的意思</td>
</tr>
<tr style="box-sizing: border-box; outline: none !important;">
<td align="center" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">“…”</strong></td>
<td align="right" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">术语符号</td>
</tr>
<tr style="box-sizing: border-box; outline: none !important;">
<td align="center" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">[…]</strong></td>
<td align="right" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">选项，最多出现一次</td>
</tr>
<tr style="box-sizing: border-box; outline: none !important;">
<td align="center" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">{…}</strong></td>
<td align="right" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">重复项，任意次数，包括 0 次</td>
</tr>
<tr style="box-sizing: border-box; outline: none !important;">
<td align="center" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">(…)</strong></td>
<td align="right" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">分组</td>
</tr>
<tr style="box-sizing: border-box; outline: none !important;">
<td align="center" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">斜体字</strong></td>
<td align="right" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">参数，在其它地方有解释</td>
</tr>
</tbody>
</table>
<p style="box-sizing: border-box; outline: none !important;"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">ABNF</strong>为扩展的<strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">BNF</strong>，但是由它自己的语法和推导规则构成。</p>
</div>
<div style="box-sizing: border-box; outline: none !important; color: rgb(44, 63, 81); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<h2 style="box-sizing: border-box; outline: none !important; font-family: inherit; font-weight: bold; color: inherit; font-size: 2.15em; text-align: start;">科大讯飞ABNF文法规范</h2>
<p style="box-sizing: border-box; outline: none !important;"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">文法</strong>定义了一个句子集合，解码器将根据文法生成的集合，对输入的句子进行搜索。 <br style="box-sizing: border-box; outline: none !important;"/>
<strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">文法</strong>主要包含两部分：<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">文档头</code>和<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">文档正文</code>。</p>
</div>
<div style="box-sizing: border-box; outline: none !important; color: rgb(44, 63, 81); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<h3 style="box-sizing: border-box; outline: none !important; font-family: inherit; font-weight: bold; color: inherit; font-size: 1.7em; text-align: start;">名词解释</h3>
<ul style="box-sizing: border-box; outline: none !important;">
<li style="box-sizing: border-box; outline: none !important;"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">空白符</strong>：空格、回车、换行、横/竖向制表符</li>
</ul>
</div>
<div style="box-sizing: border-box; outline: none !important; color: rgb(44, 63, 81); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<h3 style="box-sizing: border-box; outline: none !important; font-family: inherit; font-weight: bold; color: inherit; font-size: 1.7em; text-align: start;">文档注释</h3>
<p style="box-sizing: border-box; outline: none !important;">文法文档中可以使用注释，形式如下（同C++/objectivec）</p>
</div>
<div style="box-sizing: border-box; outline: none !important; color: rgb(44, 63, 81); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<pre style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; white-space: pre-wrap; padding: 0px; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: 0px; border-radius: 5px; text-align: start; background: rgb(246, 246, 246);">
<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: inherit; padding: 0.5em; color: rgb(248, 248, 242); white-space: pre-wrap; border-radius: 0px; background: rgb(35, 36, 31);"><span style="box-sizing: border-box; outline: none !important; color: rgb(117, 113, 94);">//  objectivec-style single-line comment</span><br style="box-sizing: border-box; outline: none !important;"/><span style="box-sizing: border-box; outline: none !important; color: rgb(117, 113, 94);">/*<br style="box-sizing: border-box; outline: none !important;"/>    objectivec-style <br style="box-sizing: border-box; outline: none !important;"/>    muptile-lines comments<br style="box-sizing: border-box; outline: none !important;"/>*/</span><br style="box-sizing: border-box; outline: none !important;"/></code>
</pre></div>
<div style="box-sizing: border-box; outline: none !important; color: rgb(44, 63, 81); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<h3 style="box-sizing: border-box; outline: none !important; font-family: inherit; font-weight: bold; color: inherit; font-size: 1.7em; text-align: start;">文档头</h3>
<p style="box-sizing: border-box; outline: none !important;">文档头部定义文档的各种属性，主要包括：</p>
<ul style="box-sizing: border-box; outline: none !important;">
<li style="box-sizing: border-box; outline: none !important;">ABNF文档自标识头(Self-Identifying Header)</li>
<li style="box-sizing: border-box; outline: none !important;">模式(Mode)type</li>
<li style="box-sizing: border-box; outline: none !important;">元数据(Meta)</li>
<li style="box-sizing: border-box; outline: none !important;">引用文件声明部分</li>
<li style="box-sizing: border-box; outline: none !important;">类型说明 type</li>
<li style="box-sizing: border-box; outline: none !important;">文档头部结束标记 <br style="box-sizing: border-box; outline: none !important;"/>
<blockquote style="box-sizing: border-box; outline: none !important; padding: 15px 20px; border-left-width: 10px; border-left-style: solid; border-left-color: rgba(102, 128, 153, 0.0745098); border-top-right-radius: 5px; border-bottom-right-radius: 5px; background-color: rgba(102, 128, 153, 0.0470588);"> <strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">注意：</strong>文档头必须出现在文档开头部分，文档头部每一条语句必须以英文半角分号 <code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">;</code> 标记语句结束。 <br style="box-sizing: border-box; outline: none !important;"/>
典型的头部如下：</blockquote>
</li>
</ul>
</div>
<div style="box-sizing: border-box; outline: none !important; color: rgb(44, 63, 81); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<pre style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; white-space: pre-wrap; padding: 0px; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: 0px; border-radius: 5px; text-align: start; background: rgb(246, 246, 246);">
<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: inherit; padding: 0.5em; color: rgb(248, 248, 242); white-space: pre-wrap; border-radius: 0px; background: rgb(35, 36, 31);"><span style="box-sizing: border-box; outline: none !important;">#ABNF 1.0 UTF-8;</span><br style="box-sizing: border-box; outline: none !important;"/>mode SMS;<br style="box-sizing: border-box; outline: none !important;"/>meta;<br style="box-sizing: border-box; outline: none !important;"/><span style="box-sizing: border-box; outline: none !important;">#include <span style="box-sizing: border-box; outline: none !important; color: rgb(166, 226, 46);">"..\..\common.abnf"</span>;</span><br style="box-sizing: border-box; outline: none !important;"/>mount <span style="box-sizing: border-box; outline: none !important; color: rgb(230, 219, 116);">"video_name"</span>;<br style="box-sizing: border-box; outline: none !important;"/>root main;<br style="box-sizing: border-box; outline: none !important;"/><span style="box-sizing: border-box; outline: none !important;">#ABNF HEAD-END</span><br style="box-sizing: border-box; outline: none !important;"/></code>
</pre></div>
<div style="box-sizing: border-box; outline: none !important; color: rgb(44, 63, 81); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<h4 style="box-sizing: border-box; outline: none !important; font-family: inherit; font-weight: bold; color: inherit; font-size: 1.25em; text-align: start;">ABNF文档自标识头</h4>
ABNF文档自标识头在所有语句之前强制出现，定义文档版本和编码格式，形式如下：</div>
<div style="box-sizing: border-box; outline: none !important; color: rgb(44, 63, 81); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<pre style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; white-space: pre-wrap; padding: 0px; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: 0px; border-radius: 5px; text-align: start; background: rgb(246, 246, 246);">
<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: inherit; padding: 0.5em; color: rgb(248, 248, 242); white-space: pre-wrap; border-radius: 0px; background: rgb(35, 36, 31);"><span style="box-sizing: border-box; outline: none !important;">#ABNF VersionNumber CharEncoding;</span><br style="box-sizing: border-box; outline: none !important;"/></code>
</pre>
其中：
<ul style="box-sizing: border-box; outline: none !important;">
<li style="box-sizing: border-box; outline: none !important;">VersionNumber指定文法档版本号,与相应的编译工具对应</li>
<li style="box-sizing: border-box; outline: none !important;">CharEncoding指定文法档字符编码类型,目前只支持UTF-8,如果文法是 gbk 编码将不会编译。 <br style="box-sizing: border-box; outline: none !important;"/>
<blockquote style="box-sizing: border-box; outline: none !important; padding: 15px 20px; border-left-width: 10px; border-left-style: solid; border-left-color: rgba(102, 128, 153, 0.0745098); border-top-right-radius: 5px; border-bottom-right-radius: 5px; background-color: rgba(102, 128, 153, 0.0470588);"> <strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">注意：</strong>目前必须书写为:#ABNF 1.0 UTF-8; 不能有任何不同。</blockquote>
</li>
</ul>
</div>
<div style="box-sizing: border-box; outline: none !important; color: rgb(44, 63, 81); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<h4 style="box-sizing: border-box; outline: none !important; font-family: inherit; font-weight: bold; color: inherit; font-size: 1.25em; text-align: start;">引用文件声明</h4>
可以引用其他文法、词典源文件、声明文件，必须使用`#include`关键字，指定引用的`相对路径`，编译时会检查该路径上的文件，必须要存在。</div>
<div style="box-sizing: border-box; outline: none !important; color: rgb(44, 63, 81); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<h4 style="box-sizing: border-box; outline: none !important; font-family: inherit; font-weight: bold; color: inherit; font-size: 1.25em; text-align: start;">Root规则</h4>
将 root 指定的规则,编译成二进制文法网络并输出。规则名 不要加$,只名字即可。</div>
<div style="box-sizing: border-box; outline: none !important; color: rgb(44, 63, 81); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<h3 style="box-sizing: border-box; outline: none !important; font-family: inherit; font-weight: bold; color: inherit; font-size: 1.7em; text-align: start;">文档正文</h3>
文法文件,实际上就是一些列**规则定义**的组合，正文由一个或多个“赋值”表达式组成，基本格式如下：</div>
<div style="box-sizing: border-box; outline: none !important; color: rgb(44, 63, 81); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<pre style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; white-space: pre-wrap; padding: 0px; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: 0px; border-radius: 5px; text-align: start; background: rgb(246, 246, 246);">
<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: inherit; padding: 0.5em; color: rgb(248, 248, 242); white-space: pre-wrap; border-radius: 0px; background: rgb(35, 36, 31);">$vName = vDefinition;<br style="box-sizing: border-box; outline: none !important;"/></code>
</pre>
<ul style="box-sizing: border-box; outline: none !important;">
<li style="box-sizing: border-box; outline: none !important;">表达式必须包含三部分：变量声明、等号、变量定义。三个部分合起来, 叫做<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">规则</code>，本文档中不严格的也称之为<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">变量</code>。</li>
<li style="box-sizing: border-box; outline: none !important;"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">变量声明</strong>以<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">$</code>或者<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">@(辅助符)</code>开始，后续紧跟变量名称(vName)，变量名称可以是英文字母、数字、下划线的任意组合，见到空白符视为变量名结束。</li>
<li style="box-sizing: border-box; outline: none !important;"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">变量定义(vDefinition)</strong>包含四种基本元素：<strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">终结词</strong>、<strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">其他变量</strong>、<strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">运算符</strong>和 <br style="box-sizing: border-box; outline: none !important;"/>
<strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">辅助符</strong>，变量定义是这四种元素在符合文法要求情况下的各种组合。</li>
</ul>
</div>
<div style="box-sizing: border-box; outline: none !important; color: rgb(44, 63, 81); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<h4 style="box-sizing: border-box; outline: none !important; font-family: inherit; font-weight: bold; color: inherit; font-size: 1.25em; text-align: start;">终结词</h4>
<p style="box-sizing: border-box; outline: none !important;">在文法中，<strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">终结词</strong>不能被继续扩展。它定义了用户输入可能表达的实体，文法匹配最终的目的就是识别出这些终结词。</p>
</div>
<div style="box-sizing: border-box; outline: none !important; color: rgb(44, 63, 81); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<pre style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; white-space: pre-wrap; padding: 0px; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: 0px; border-radius: 5px; text-align: start; background: rgb(246, 246, 246);">
<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: inherit; padding: 0.5em; color: rgb(248, 248, 242); white-space: pre-wrap; border-radius: 0px; background: rgb(35, 36, 31);">$fee = 手机费 | 话费;<br style="box-sizing: border-box; outline: none !important;"/></code>
</pre>
<p style="box-sizing: border-box; outline: none !important;">上面文法中，<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">手机费</code>、<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">话费</code>就是<strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">终结词</strong>，而<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">$fee</code> 不是。 <br style="box-sizing: border-box; outline: none !important;"/>
目前定义的终结词包括以下：</p>
<table style="box-sizing: border-box; outline: none !important; max-width: 100%; border-collapse: collapse; border-spacing: 0px; background-color: transparent;">
<thead style="box-sizing: border-box; outline: none !important;">
<tr style="box-sizing: border-box; outline: none !important;">
<th align="center" style="box-sizing: border-box; outline: none !important; text-align: center; padding: 0.5em; vertical-align: bottom; border: 1px solid rgb(221, 221, 221); font-weight: bold;">终结词类型</th>
<th align="right" style="box-sizing: border-box; outline: none !important; text-align: right; padding: 0.5em; vertical-align: bottom; border: 1px solid rgb(221, 221, 221); font-weight: bold;">示例</th>
</tr>
</thead>
<tbody style="box-sizing: border-box; outline: none !important;">
<tr style="box-sizing: border-box; outline: none !important;">
<td align="center" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">英文(半角)</strong></td>
<td align="right" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">abc</td>
</tr>
<tr style="box-sizing: border-box; outline: none !important;">
<td align="center" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">数字(半角)</strong></td>
<td align="right" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">1234</td>
</tr>
<tr style="box-sizing: border-box; outline: none !important;">
<td align="center" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">汉字</strong></td>
<td align="right" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">中国</td>
</tr>
<tr style="box-sizing: border-box; outline: none !important;">
<td align="center" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">特殊字符</strong></td>
<td align="right" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);"><br/></td>
</tr>
<tr style="box-sizing: border-box; outline: none !important;">
<td align="center" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">以上各种组合</strong></td>
<td align="right" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);"><br/></td>
</tr>
</tbody>
</table>
</div>
<div style="box-sizing: border-box; outline: none !important; color: rgb(44, 63, 81); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<h4 style="box-sizing: border-box; outline: none !important; font-family: inherit; font-weight: bold; color: inherit; font-size: 1.25em; text-align: start;">变量分类</h4>
<p style="box-sizing: border-box; outline: none !important;">通过在<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">$</code>后加规则名来定义一个规则，规则名可以包含中文，但<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">不推荐</code>。</p>
</div>
<div style="box-sizing: border-box; outline: none !important; color: rgb(44, 63, 81); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<h4 style="box-sizing: border-box; outline: none !important; font-family: inherit; font-weight: bold; color: inherit; font-size: 1.25em; text-align: start;">变量引用</h4>
<p style="box-sizing: border-box; outline: none !important;">包含三类：</p>
<ol style="box-sizing: border-box; outline: none !important;">
<li style="box-sizing: border-box; outline: none !important;"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">本地引用：</strong>引用<strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">本文法</strong>中所定义的变量</li>
<li style="box-sizing: border-box; outline: none !important;">
<p style="box-sizing: border-box; outline: none !important;"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">外部引用：</strong>引用<strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">其他文档</strong>中定义的变量</p>
<blockquote style="box-sizing: border-box; outline: none !important; padding: 15px 20px; border-left-width: 10px; border-left-style: solid; border-left-color: rgba(102, 128, 153, 0.0745098); border-top-right-radius: 5px; border-bottom-right-radius: 5px; background-color: rgba(102, 128, 153, 0.0470588);">
<p style="box-sizing: border-box; outline: none !important; font-size: 1em; font-weight: 300;">1、被引用的规则必须用<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">public</code>修饰,声明为公有变量 <br style="box-sizing: border-box; outline: none !important;"/>
2、引用者的头部中使用<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">#include "XXX";</code>包含需要引用的文法文件</p>
</blockquote>
</li>
<li style="box-sizing: border-box; outline: none !important;">
<p style="box-sizing: border-box; outline: none !important;"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">预定义变量引用：</strong>引用<strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">系统预定义</strong>的特殊变量</p>
</li>
</ol>
</div>
<div style="box-sizing: border-box; outline: none !important; color: rgb(44, 63, 81); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<h4 style="box-sizing: border-box; outline: none !important; font-family: inherit; font-weight: bold; color: inherit; font-size: 1.25em; text-align: start;">转义字符变量和通配符</h4>
<p style="box-sizing: border-box; outline: none !important;">所有<strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">特殊变量</strong>均以<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">$_ti_</code>开头,以下划线<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">_</code>结 尾。</p>
<table style="box-sizing: border-box; outline: none !important; max-width: 100%; border-collapse: collapse; border-spacing: 0px; background-color: transparent;">
<thead style="box-sizing: border-box; outline: none !important;">
<tr style="box-sizing: border-box; outline: none !important;">
<th align="center" style="box-sizing: border-box; outline: none !important; text-align: center; padding: 0.5em; vertical-align: bottom; border: 1px solid rgb(221, 221, 221); font-weight: bold;">特殊变量</th>
<th align="left" style="box-sizing: border-box; outline: none !important; text-align: left; padding: 0.5em; vertical-align: bottom; border: 1px solid rgb(221, 221, 221); font-weight: bold;">作用</th>
</tr>
</thead>
<tbody style="box-sizing: border-box; outline: none !important;">
<tr style="box-sizing: border-box; outline: none !important;">
<td align="center" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">$_ti_ch_</strong></td>
<td align="left" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">通配符</strong>:任意一个字符(字母、数字、汉字);支持自定义权重,提取需要提取的内容。</td>
</tr>
<tr style="box-sizing: border-box; outline: none !important;">
<td align="center" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">$_ti_filler_</strong></td>
<td align="left" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">通配符</strong>:0到任意多个字符;不支持自定义权重,纯粹用于过滤。</td>
</tr>
</tbody>
</table>
</div>
<div style="box-sizing: border-box; outline: none !important; color: rgb(44, 63, 81); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<h4 style="box-sizing: border-box; outline: none !important; font-family: inherit; font-weight: bold; color: inherit; font-size: 1.25em; text-align: start;">运算符</h4>
<p style="box-sizing: border-box; outline: none !important;">从逻辑上看，主要的运算符有：<strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">串连(空白符)</strong>、<strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">选择(分割符)</strong>、 <strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">可选(中括号)</strong>、<strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">分组(小括号)</strong>、<strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">重复(尖括号)</strong></p>
<table style="box-sizing: border-box; outline: none !important; max-width: 100%; border-collapse: collapse; border-spacing: 0px; background-color: transparent;">
<thead style="box-sizing: border-box; outline: none !important;">
<tr style="box-sizing: border-box; outline: none !important;">
<th align="center" style="box-sizing: border-box; outline: none !important; text-align: center; padding: 0.5em; vertical-align: bottom; border: 1px solid rgb(221, 221, 221); font-weight: bold;">运算符</th>
<th align="left" style="box-sizing: border-box; outline: none !important; text-align: left; padding: 0.5em; vertical-align: bottom; border: 1px solid rgb(221, 221, 221); font-weight: bold;">语义</th>
<th align="left" style="box-sizing: border-box; outline: none !important; text-align: left; padding: 0.5em; vertical-align: bottom; border: 1px solid rgb(221, 221, 221); font-weight: bold;">示例</th>
<th align="left" style="box-sizing: border-box; outline: none !important; text-align: left; padding: 0.5em; vertical-align: bottom; border: 1px solid rgb(221, 221, 221); font-weight: bold;">备注</th>
</tr>
</thead>
<tbody style="box-sizing: border-box; outline: none !important;">
<tr style="box-sizing: border-box; outline: none !important;">
<td align="center" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">$</strong>、<strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">@</strong></td>
<td align="left" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">规则声明引用符</td>
<td align="left" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);"><span style="box-sizing: border-box; outline: none !important;">$</span>x = <span style="box-sizing: border-box; outline: none !important;">$</span>y</td>
<td align="left" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">第一个<span style="box-sizing: border-box; outline: none !important;">$</span>表示<strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">声明</strong>,声明x规则,第二个表示引用,引用y 规则;<br style="box-sizing: border-box; outline: none !important;"/>
<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">引用时只用\$,定义时两者皆可</code></td>
</tr>
<tr style="box-sizing: border-box; outline: none !important;">
<td align="center" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">=</strong></td>
<td align="left" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">定义符</td>
<td align="left" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);"><br/></td>
<td align="left" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">在一个规则定义中<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">必须且只能</code>出现一次</td>
</tr>
<tr style="box-sizing: border-box; outline: none !important;">
<td align="center" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">//</strong>、<strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">/*…*/</strong></td>
<td align="left" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">注释符</td>
<td align="left" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">$rule = a /* <code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">这里是注释</code> */b;</td>
<td align="left" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">前者<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">行注释</code>,后者<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">块注释</code></td>
</tr>
<tr style="box-sizing: border-box; outline: none !important;">
<td align="center" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">空格符</strong>、<strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">TAB</strong></td>
<td align="left" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">串连</td>
<td align="left" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);"><br/></td>
<td align="left" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);"><br/></td>
</tr>
<tr style="box-sizing: border-box; outline: none !important;">
<td align="center" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">|</strong></td>
<td align="left" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">选择</td>
<td align="left" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">查 | 查询 //<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">终结词的选择</code> <br style="box-sizing: border-box; outline: none !important;"/>
<span style="box-sizing: border-box; outline: none !important;">$</span>查询 | <span style="box-sizing: border-box; outline: none !important;">$</span>取消 //<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">变量引用的选择</code> <br style="box-sizing: border-box; outline: none !important;"/>
开通 | <span style="box-sizing: border-box; outline: none !important;">$</span>查询 | <span style="box-sizing: border-box; outline: none !important;">$</span>取消 //<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">终结词和变量引用的选择</code></td>
<td align="left" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">表示匹配用户输入时，经过几条并行路径中的一条路径</td>
</tr>
<tr style="box-sizing: border-box; outline: none !important;">
<td align="center" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">[]</strong></td>
<td align="left" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">可选</td>
<td align="left" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">[我] //<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">终结词的可选</code> <br style="box-sizing: border-box; outline: none !important;"/>
[$want] //<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">变量的可选</code></td>
<td align="left" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">表示匹配用户输入时,可以经过一条路径也可以不经过此路径</td>
</tr>
<tr style="box-sizing: border-box; outline: none !important;">
<td align="center" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">()</strong></td>
<td align="left" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">分组</td>
<td align="left" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">$order = 我 (想 | 要) 查 话费;</td>
<td align="left" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">将若干个文法单元封装界定为一个结构,括号内的部分为一个整体单元,可避免文法在阅读上<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">产生歧义</code></td>
</tr>
<tr style="box-sizing: border-box; outline: none !important;">
<td align="center" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">&lt;&gt;</strong></td>
<td align="left" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">重复</td>
<td align="left" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);"><span style="box-sizing: border-box; outline: none !important;">$</span>digist &lt;n&gt; <br style="box-sizing: border-box; outline: none !important;"/>
<span style="box-sizing: border-box; outline: none !important;">$</span>digit &lt;n+&gt; <br style="box-sizing: border-box; outline: none !important;"/>
<span style="box-sizing: border-box; outline: none !important;">$</span>digit &lt;m-&gt; <br style="box-sizing: border-box; outline: none !important;"/>
<span style="box-sizing: border-box; outline: none !important;">$</span>digit &lt;n-m&gt; <br style="box-sizing: border-box; outline: none !important;"/>
// <code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">分别表示变量出现n次、n次以上、m次以下、n至m次</code></td>
<td align="left" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">重复结构用来在文法中表示需要重复说出的内容,它特别适合表示诸如数字串等一些终结词反复出现的结构</td>
</tr>
<tr style="box-sizing: border-box; outline: none !important;">
<td align="center" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">{}</strong></td>
<td align="left" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">语义</td>
<td align="left" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">我 查 话费 // <code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">终结词的串连</code> <br style="box-sizing: border-box; outline: none !important;"/>
<span style="box-sizing: border-box; outline: none !important;">$</span>查询 <span style="box-sizing: border-box; outline: none !important;">$</span>费用 // <code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">变量引用的串连</code> <br style="box-sizing: border-box; outline: none !important;"/>
我 <span style="box-sizing: border-box; outline: none !important;">$</span>want <span style="box-sizing: border-box; outline: none !important;">$</span>查询<span style="box-sizing: border-box; outline: none !important;">$</span>费用 // <code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">终结词和变量引用的串连</code></td>
<td align="left" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">必须左右配对使用,<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">不可嵌套</code>;内容包含两种操作符‘:’和‘%’分别表示<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">语义输出符号分级</code>及<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">幅值</code></td>
</tr>
<tr style="box-sizing: border-box; outline: none !important;">
<td align="center" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">` `</strong></td>
<td align="left" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">权重</td>
<td align="left" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">`3`</td>
<td align="left" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">反引号包上数字:`<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">数值</code>`。默认所有的文法单元都是<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">0</code>分。不可以嵌套使用</td>
</tr>
</tbody>
</table>
</div>
<div style="box-sizing: border-box; outline: none !important; color: rgb(44, 63, 81); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<h4 style="box-sizing: border-box; outline: none !important; font-family: inherit; font-weight: bold; color: inherit; font-size: 1.25em; text-align: start;">文法单元</h4>
<p style="box-sizing: border-box; outline: none !important;"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">文法单元</strong>指文法中<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">相对独立</code>的文法部分,某种程度上可以当作一个整体来看待。 <br style="box-sizing: border-box; outline: none !important;"/>
如果文法中只有普通字符,则称为<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">独立文法单元</code>，否则称为<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">复合文法单元</code>。</p>
<blockquote style="box-sizing: border-box; outline: none !important; padding: 15px 20px; border-left-width: 10px; border-left-style: solid; border-left-color: rgba(102, 128, 153, 0.0745098); border-top-right-radius: 5px; border-bottom-right-radius: 5px; background-color: rgba(102, 128, 153, 0.0470588);">
<p style="box-sizing: border-box; outline: none !important; font-size: 1em; font-weight: 300;"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">普通字符</strong>：中英文字母字符文本； <br style="box-sizing: border-box; outline: none !important;"/>
<strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">非普通字符</strong>：各种运算符；</p>
</blockquote>
</div>
<div style="box-sizing: border-box; outline: none !important; color: rgb(44, 63, 81); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<h4 style="box-sizing: border-box; outline: none !important; font-family: inherit; font-weight: bold; color: inherit; font-size: 1.25em; text-align: start;">语义信息</h4>
<p style="box-sizing: border-box; outline: none !important;"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">语义</strong>,可以理解成一种集合。概括表明用户输入的<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">真实意图</code> <br style="box-sizing: border-box; outline: none !important;"/>
<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">《语义处理协议(互联网电视) v1.1.pdf》</code>中定义语义信息档内容格式：</p>
<table style="box-sizing: border-box; outline: none !important; max-width: 100%; border-collapse: collapse; border-spacing: 0px; background-color: transparent;">
<thead style="box-sizing: border-box; outline: none !important;">
<tr style="box-sizing: border-box; outline: none !important;">
<th align="center" style="box-sizing: border-box; outline: none !important; text-align: center; padding: 0.5em; vertical-align: bottom; border: 1px solid rgb(221, 221, 221); font-weight: bold;">内容格式</th>
</tr>
</thead>
<tbody style="box-sizing: border-box; outline: none !important;">
<tr style="box-sizing: border-box; outline: none !important;">
<td align="center" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">1 业务</td>
</tr>
<tr style="box-sizing: border-box; outline: none !important;">
<td align="center" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">2 操作</td>
</tr>
<tr style="box-sizing: border-box; outline: none !important;">
<td align="center" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">3 资费</td>
</tr>
<tr style="box-sizing: border-box; outline: none !important;">
<td align="center" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">4 旧密码</td>
</tr>
<tr style="box-sizing: border-box; outline: none !important;">
<td align="center" style="box-sizing: border-box; outline: none !important; padding: 0.5em; vertical-align: top; border: 1px solid rgb(221, 221, 221);">5 新密码</td>
</tr>
</tbody>
</table>
<p style="box-sizing: border-box; outline: none !important;">其中，每一行指定一个语义,包含三部分:</p>
<ol style="box-sizing: border-box; outline: none !important;">
<li style="box-sizing: border-box; outline: none !important;">唯一的语义ID：阿拉伯数字串;</li>
<li style="box-sizing: border-box; outline: none !important;">分隔符：包括空格、Tab 和逗号;</li>
<li style="box-sizing: border-box; outline: none !important;">语义定义：定义内部不能有第二部分中的分隔符</li>
</ol>
<p style="box-sizing: border-box; outline: none !important;">但是当前文法档中进行语义信息的添加时，目前暂<strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">只支持将一个语义定义</strong>(不是语义 ID)放置于大括号 { }中,并且此处添加的语义定义必须包含于上述“语义信息 档”的定义中。举例如下:</p>
</div>
<div style="box-sizing: border-box; outline: none !important; color: rgb(44, 63, 81); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<pre style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; white-space: pre-wrap; padding: 0px; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: 0px; border-radius: 5px; text-align: start; background: rgb(246, 246, 246);">
<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: inherit; padding: 0.5em; color: rgb(248, 248, 242); white-space: pre-wrap; border-radius: 0px; background: rgb(35, 36, 31);">$order = 我 (想 | 要) 查 {操作} 话费 {资费};<br style="box-sizing: border-box; outline: none !important;"/><br style="box-sizing: border-box; outline: none !important;"/>$ruleName = [ 文法单元 ] { 语义内容 }; <span style="box-sizing: border-box; outline: none !important; color: rgb(117, 113, 94);">// 错误</span><br style="box-sizing: border-box; outline: none !important;"/>$ruleName = [ 文法单元 { 语义内容 } ]; <span style="box-sizing: border-box; outline: none !important; color: rgb(117, 113, 94);">// 正确</span><br style="box-sizing: border-box; outline: none !important;"/></code>
</pre>
<blockquote style="box-sizing: border-box; outline: none !important; padding: 15px 20px; border-left-width: 10px; border-left-style: solid; border-left-color: rgba(102, 128, 153, 0.0745098); border-top-right-radius: 5px; border-bottom-right-radius: 5px; background-color: rgba(102, 128, 153, 0.0470588);">
<p style="box-sizing: border-box; outline: none !important; font-size: 1em; font-weight: 300;"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">注意：</strong>语义添加时,语义须与“语义信息档”的语义定义部分保持一致,语义与两个大括号{ }之间可以有空白符。 <br style="box-sizing: border-box; outline: none !important;"/>
<strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">禁止写法：</strong>对于可选结构,如果要附加语义,必须要将语义放在可选结构的 中括号内,否则编译器将会报错。因为文法的目的是:只有可选单元中的文法单 元匹配成功,语义才会输出。</p>
</blockquote>
</div>
<div style="box-sizing: border-box; outline: none !important; color: rgb(44, 63, 81); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<h4 style="box-sizing: border-box; outline: none !important; font-family: inherit; font-weight: bold; color: inherit; font-size: 1.25em; text-align: start;">权重</h4>
<p style="box-sizing: border-box; outline: none !important;"><strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">权重</strong>直接修饰左边最靠近的文法单元,给其添加上一个得分。该得分可以是小数或整数,支持正负号,但不支持指数形式。</p>
<blockquote style="box-sizing: border-box; outline: none !important; padding: 15px 20px; border-left-width: 10px; border-left-style: solid; border-left-color: rgba(102, 128, 153, 0.0745098); border-top-right-radius: 5px; border-bottom-right-radius: 5px; background-color: rgba(102, 128, 153, 0.0470588);">
<p style="box-sizing: border-box; outline: none !important; font-size: 1em; font-weight: 300;">权重和语义的用法和注意事项一致，禁止<strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">[ XXX ] `权值`</strong> 的写法 ,需写成<strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">[XXX `权值`]</strong>。</p>
</blockquote>
</div>
<div style="box-sizing: border-box; outline: none !important; color: rgb(44, 63, 81); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<h5 style="box-sizing: border-box; outline: none !important; font-family: inherit; font-weight: bold; color: inherit; font-size: 1em; text-align: start;">通配符默认权重</h5>
<ul style="box-sizing: border-box; outline: none !important;">
<li style="box-sizing: border-box; outline: none !important;"><span style="box-sizing: border-box; outline: none !important;">$</span>_ti_filler_ -1 分 (此分值由编译器决定,不支持自定义)</li>
<li style="box-sizing: border-box; outline: none !important;"><span style="box-sizing: border-box; outline: none !important;">$</span>_ti_ch_ -0.8 分 (此分值由编译器决定)</li>
</ul>
<p style="box-sizing: border-box; outline: none !important;">文法中,所有的单元,初始权重都是0,但系统会在通配符的后面增加<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">-1</code> <br style="box-sizing: border-box; outline: none !important;"/>
和 <code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">-0.8</code> ,这是隐藏于编译器内部的实现。</p>
</div>
<div style="box-sizing: border-box; outline: none !important; color: rgb(44, 63, 81); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<h5 style="box-sizing: border-box; outline: none !important; font-family: inherit; font-weight: bold; color: inherit; font-size: 1em; text-align: start;">通配符自定义权重</h5>
</div>
<div style="box-sizing: border-box; outline: none !important; color: rgb(44, 63, 81); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<pre style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; white-space: pre-wrap; padding: 0px; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: 0px; border-radius: 5px; text-align: start; background: rgb(246, 246, 246);">
<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: inherit; padding: 0.5em; color: rgb(248, 248, 242); white-space: pre-wrap; border-radius: 0px; background: rgb(35, 36, 31);">$_ti_ch_ `-<span style="box-sizing: border-box; outline: none !important; color: rgb(174, 129, 255);">0.4</span>` &lt;<span style="box-sizing: border-box; outline: none !important; color: rgb(174, 129, 255);">2</span>-<span style="box-sizing: border-box; outline: none !important; color: rgb(174, 129, 255);">5</span>&gt;  <span style="box-sizing: border-box; outline: none !important; color: rgb(117, 113, 94);">// 每个被通配符匹配的字都会扣-1.2 分</span><br style="box-sizing: border-box; outline: none !important;"/>$_ti_ch_ ,&lt;<span style="box-sizing: border-box; outline: none !important; color: rgb(174, 129, 255);">2</span>-<span style="box-sizing: border-box; outline: none !important; color: rgb(174, 129, 255);">5</span>&gt; `-<span style="box-sizing: border-box; outline: none !important; color: rgb(174, 129, 255);">0.4</span>` <span style="box-sizing: border-box; outline: none !important; color: rgb(117, 113, 94);">// 只要是满足 2-5 个字的字符串。$_ti_ch_ 后面没有用户自定义权重,使用系统内置权重,除了每个字扣0.8 分,总共再扣0.4 分</span><br style="box-sizing: border-box; outline: none !important;"/></code>
</pre></div>
<div style="box-sizing: border-box; outline: none !important; color: rgb(44, 63, 81); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<h5 style="box-sizing: border-box; outline: none !important; font-family: inherit; font-weight: bold; color: inherit; font-size: 1em; text-align: start;">运算符、辅助符的优先级</h5>
<p style="box-sizing: border-box; outline: none !important;">注释 &gt; 串 &gt; 语义符 &gt; 声明引用 &gt; 配对操作符及循环 &gt; 连接 &gt; 可选 &gt; 定义符</p>
</div>
<div style="box-sizing: border-box; outline: none !important; color: rgb(44, 63, 81); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<h4 style="box-sizing: border-box; outline: none !important; font-family: inherit; font-weight: bold; color: inherit; font-size: 1.25em; text-align: start;">语言标识</h4>
<p style="box-sizing: border-box; outline: none !important;">语言标识用来在混合语言识别的时候指明语言类型。对于ANBF形式语法，可以将一个语言标识附加到记号，序列、替代以及它们的组合上，规则引用不能够附加语言标识，用<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">!</code>来标识，如：</p>
</div>
<div style="box-sizing: border-box; outline: none !important; color: rgb(44, 63, 81); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<pre style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; white-space: pre-wrap; padding: 0px; word-break: break-all; word-wrap: break-word; color: rgb(51, 51, 51); border: 0px; border-radius: 5px; text-align: start; background: rgb(246, 246, 246);">
<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: inherit; padding: 0.5em; color: rgb(248, 248, 242); white-space: pre-wrap; border-radius: 0px; background: rgb(35, 36, 31);">$people1 = (Andy | Thomas)!en-us;<br style="box-sizing: border-box; outline: none !important;"/>$people2 = 李明!zh-cn | Jose!en-us;<br style="box-sizing: border-box; outline: none !important;"/></code>
</pre></div>
<div style="box-sizing: border-box; outline: none !important; color: rgb(44, 63, 81); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<h3 style="box-sizing: border-box; outline: none !important; font-family: inherit; font-weight: bold; color: inherit; font-size: 1.7em; text-align: start;">在线命令词识别功能</h3>
<p style="box-sizing: border-box; outline: none !important;">为了实现<strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">语义分析</strong>功能，先是阅读<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">开放语义文档</code>中关于<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">通用场景</code>的介绍。着重研究了<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">音乐</code>场景，经过测试发现功能强大，但是只支持<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">搜索</code>和<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">播放</code>两种形式的语义分析，例如<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">暂停</code>、<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">歌曲切换</code>等形式不支持。并且发现默认<strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">私有语义场景</strong>没有开放，便转而研究<strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">在线命令词识别功能</strong>。 <br style="box-sizing: border-box; outline: none !important;"/>
最后经过学习<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">ABNF</code>语法，编写<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">ABNF</code>语法文档并上传，最后SDK具体测试，发现接口返回的仍然是完整的表达式，并没有对关键命令字单独返回，因此放弃。</p>
</div>
<div style="box-sizing: border-box; outline: none !important; color: rgb(44, 63, 81); font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;">
<h3 style="box-sizing: border-box; outline: none !important; font-family: inherit; font-weight: bold; color: inherit; font-size: 1.7em; text-align: start;">私有语义场景</h3>
<div><br/></div>
<div style="box-sizing: border-box; outline: none !important;"><code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">开放语义业务能力介绍</code>：<a href="http://bbs.xfyun.cn/forum.php?mod=viewthread&amp;tid=12360&amp;fromuid=33982" target="_blank" style="box-sizing: border-box; outline: none !important; color: rgb(25, 128, 230); text-decoration: none; transition: background-color 0.15s ease-in-out, color 0.15s ease-in-out, border-color 0.15s ease-in-out; background: transparent;">http://bbs.xfyun.cn/forum.php?mod=viewthread&amp;tid=12360&amp;fromuid=33982</a> <br style="box-sizing: border-box; outline: none !important;"/>
<code style="box-sizing: border-box; outline: none !important; font-family: 'Source Code Pro', monospace; font-size: 0.9em; padding: 2px 4px; color: rgb(199, 37, 78); white-space: normal; border-radius: 4px; background-color: rgb(249, 242, 244);">私有语义开通</code>：<a href="http://bbs.xfyun.cn/forum.php?mod=viewthread&amp;tid=11636&amp;extra=page%3D1" target="_blank" style="box-sizing: border-box; outline: none !important; color: rgb(25, 128, 230); text-decoration: none; transition: background-color 0.15s ease-in-out, color 0.15s ease-in-out, border-color 0.15s ease-in-out; background: transparent;">http://bbs.xfyun.cn/forum.php?mod=viewthread&amp;tid=11636&amp;extra=page%3D1</a> 
<div>最后通过QQ群以及科大讯飞官方论坛版块，发现上面文档，最后开通<strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">私有语义场景</strong>。<strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">私有语义场景</strong>顾名思义就是开发者自己编写的场景（用来满足通用场景无法满足的特定场景），利用<strong style="box-sizing: border-box; outline: none !important; font-weight: bold;">ABNF</strong>语法来进行编写。</div>
</div>
</div>
</div>
</body></html>